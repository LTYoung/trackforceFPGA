# TrackForceFPGA
A reference utility that can be used either in motorsport or automotive development purposes, down to the precise milliseconds
# What is this?
TrackForce is a Embedded & FPGA project that intergrates an IMU and a GPS module to provide real time speed (km/h) and G force readouts for vehicles.

# Required Hardware
1. Digilent Zybo Z7-20 Board
2. Sparkfun u-blox NEO-M9N GPS Module (Other antenna types acceptable)
3. Adafruit BNO08x IMU
4. Arduino Nano 

# Required Tools
1. AMD Xilinx Vivado 2023.2
2. AMD Xilinx Vitis Unified IDE 2023.2

# Strcture of the Repo
1. `.vscode`: VScode settings mainly for the arduino sketches in utilities
2. `trackforce.vitis` Vitis Project Folder. 
    1. `app_component`: application component of TrackForce. You can find the source code in `src` as `main.c`
    2. `platform`: hardware platform component, generated using `.xsa` file exported from Vivado. 
    3. Other folders and files generated by Vitis Unified IDE
3. `trackforce.vivado`: Vivado Project Folder.
    1. `trackforce.srcs`: contains the Verilog source of the PL.
    2. `trackforce.sims`: contains the testbenches used for most of the non-trivial modules.
    3. Other folders and files generated by the Vivado Design Tool.
4. `utilities`: contains arduino sketches
    1. `gpstest`: a test sketch to test the UART interface and its parsing of NMEA messages
    2. `imuDriver`: a utility sketch that helps to extract X, Y data from the IMU and forward to the board over UART.
5. `TrackForce_EC551_FinalProject.pptx`: Final presentation of this project used during Boston University EC 551 Course in Fall 2023 Semster.
6. `README.md`: This file

# To Build and Run the Project
1. Open the Vivado Project
2. Generate Bitstream
3. Export hardware as `.xsa`
4. Open Vitis Unified IDE
5. Create hardware platform from `.xsa`
6. Create app component from platform
7. Import `main.c`
8. Build app
9. To run, either:
    1. Run from Vitis Unified IDE
        1. Set board jumper `JP5` over two center pins (QSPI)
        2. Connect board to PC from `PROG UART`
        3. Power on
        4. Either run or debug the app component
    2. Export boot image to micro sd card
        1. Export boot image `boot.bin` to a FAT32 formatted micro sd card
        2. Set board jumper `JP5` over two leftmost pins (SD)
        3. Power on
    

# AI Usage Disclosure
This project contains code generated from GitHub copilot and ChatGPT 4.0. They have been adapted and verified to be incroporated into the project.

# Misc.
## Special Thanks
- Prof. Douglas Densmore: Thank you for the fun semster!
## For BU Grader
- Video demo can be found at the following link, a BU email or request for access is required: 
https://drive.google.com/file/d/1tPZJbJWUfGQMUqHhy_iYttqaOo-XCzPD/view?usp=sharing
- Video Title: FPGA Speedometer and G-force-odometer
- Video Description: This is a hybrid embedded / FPGA project that creates a very fast utility that can be used in automotive tracking events and vehicle production. 